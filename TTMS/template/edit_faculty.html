{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2>Edit Faculty</h2>
    
    <a href="/view_faculty" class="btn btn-secondary mb-3">Back to Faculty List</a>
    
    <form method="POST" action="/edit_faculty/{{ faculty.id }}">
        <div class="form-group">
            <label>Staff Code</label>
            <input type="text" name="staff_code" value="{{ faculty.staff_code }}" disabled class="form-control">
        </div>

        <div class="form-group">
            <label>Name</label>
            <input type="text" name="name" value="{{ faculty.name }}" required class="form-control">
        </div>

        <div class="form-group">
            <label>Department</label>
            <input type="text" name="department" value="{{ faculty.department }}" required class="form-control">
        </div>

        <div class="form-group">
            <label>Max Hours</label>
            <input type="number" name="max_hours" value="{{ faculty.max_hours }}" required class="form-control">
        </div>

        <div class="form-group">
            <label>Assign Subjects</label>
            <select name="subjects" multiple size="8" class="form-control">
                {% for subject in subjects %}
                    <option value="{{ subject.id }}" 
                        {% if subject.id in assigned %}selected{% endif %}>
                        {{ subject.code }} - {{ subject.name }}
                    </option>
                {% endfor %}
            </select>
            <small class="form-text text-muted">Hold Ctrl/Cmd to select multiple subjects</small>
        </div>

        <button type="submit" class="btn btn-primary">Update Faculty</button>
        <a href="/view_faculty" class="btn btn-secondary">Cancel</a>
    </form>
</div>
{% endblock %}
