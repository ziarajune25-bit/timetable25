{% extends "base.html" %}
{% block title %}Faculty Dashboard{% endblock %}

{% block content %}
<h2>Faculty Schedule</h2>

<form method="POST">
    <label>Select Faculty</label>
    <select name="staff_id" required>
        <option value="">Select a faculty member</option>
        {% for staff in staff_list %}
            <option value="{{ staff.id }}">{{ staff.name }}</option>
        {% endfor %}
    </select>
    <br><br>
    <button type="submit">View Schedule</button>
</form>

{% if schedule %}
<table>
    <tr>
        <th>Day</th>
        <th>Period</th>
        <th>Subject</th>
        <th>Year</th>
        <th>Course</th>
    </tr>
    {% for row in schedule %}
    <tr>
        <td>{{ row.day }}</td>
        <td>{{ row.period_no }}</td>
        <td>{{ row.code }} - {{ row.name }}</td>
        <td>{{ row.year }}</td>
        <td>{{ row.course_id }}</td>
    </tr>
    {% endfor %}
</table>
{% endif %}
{% endblock %}